<div class="form-card">
  <h3>ðŸ’¸ Pay Single Employee</h3>
  <p class="subtitle">Select an employee and confirm or modify the payment amount.</p>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label>Employee</label>
      <select formControlName="employeeId" class="form-control" (change)="onEmployeeSelect($event)">
        <option [ngValue]="null">-- Select Employee --</option>
        <option *ngFor="let e of employees" [value]="e.employeeId">
          {{ e.firstName }} {{ e.lastName }} â€” â‚¹{{ e.salary }}
        </option>
      </select>
      <div *ngIf="form.get('employeeId')?.invalid && form.get('employeeId')?.touched" class="error">
        Please select an employee.
      </div>
    </div>

    <div class="form-group">
      <label>Amount (â‚¹)</label>
      <input
        type="number"
        formControlName="amount"
        class="form-control"
        [readonly]="!allowCustom"
      />
      <div *ngIf="form.get('amount')?.invalid && form.get('amount')?.touched" class="error">
        Please enter a valid amount greater than 0.
      </div>
    </div>

    <div class="form-group">
      <label>Description (optional)</label>
      <input
        type="text"
        formControlName="description"
        class="form-control"
        placeholder="e.g. October Salary / Bonus"
      />
    </div>

    <div class="actions">
      <button class="btn primary" type="submit" [disabled]="form.invalid || submitting">
        {{ submitting ? 'Processing...' : 'Pay Now' }}
      </button>
      <button class="btn ghost" type="button" (click)="cancel()">Cancel</button>
    </div>
  </form>

  <div *ngIf="message" class="message" [ngClass]="{'success': message.includes('success'), 'error': message.includes('Failed')}">
    {{ message }}
  </div>
</div>
