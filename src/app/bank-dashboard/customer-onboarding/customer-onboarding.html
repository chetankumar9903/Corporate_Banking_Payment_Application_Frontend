<div class="onboarding-container">
  <h2>Customer Onboarding</h2>
  <p>Select a user to onboard as a new customer and upload their initial document.</p>

  <form [formGroup]="onboardingForm" (ngSubmit)="onSubmit()" class="onboarding-form">
    
    <div class="form-group">
      <label for="userId">Select User</label>
      <select id="userId" formControlName="userId" class="form-control">
        <option [value]="null" disabled>-- Select an available user --</option>
        <option *ngFor="let user of availableUsers" [value]="user.userId">
          {{ user.firstName }} {{ user.lastName }} ({{ user.userName }})
        </option>
      </select>
      <div *ngIf="onboardingForm.get('userId')?.touched && onboardingForm.get('userId')?.invalid" class="error-text">
        User is required.
      </div>
    </div>

    <div class="form-group">
      <label for="documentType">Document Type</label>
      <select id="documentType" formControlName="documentType" class="form-control">
        <option *ngFor="let type of documentTypes" [value]="type">
          {{ type }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="fileInput">Upload Document</label>
      <input 
        type="file" 
        id="fileInput" 
        #fileInput 
        (change)="onFileSelected($event)" 
        class="form-control"
        accept="application/pdf,image/jpeg,image/png">
      <div *ngIf="selectedFile" class="file-info">
        Selected: {{ selectedFile.name }} ({{ (selectedFile.size / 1024).toFixed(2) }} KB)
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="loading || onboardingForm.invalid || !selectedFile" class="btn btn-primary">
        {{ loading ? 'Processing...' : 'Onboard Customer' }}
      </button>
    </div>

  </form>

  <div *ngIf="errorMessage" class="alert alert-danger">
    <strong>Error:</strong> {{ errorMessage }}
  </div>
  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>

</div>