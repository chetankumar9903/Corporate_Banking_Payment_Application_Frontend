<div class="bank-list-container">
  <div class="header-section">
    <h2><i class="bi bi-bank"></i> Manage Banks</h2>

    <div class="actions">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (keyup.enter)="search()"
        placeholder="ðŸ” Search banks..."
        class="search-input"
      />
      <button class="btn btn-primary" (click)="search()">Search</button>
      <button class="btn btn-outline-secondary" (click)="clearFilters()">Clear Filters</button>
      <button class="btn btn-success" (click)="addBank()">+ Add Bank</button>
    </div>
  </div>

  <div *ngIf="loading" class="loader">Loading banks...</div>

  <div *ngIf="!loading" class="table-wrapper">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th (click)="sort('bankName')">Bank Name</th>
          <th (click)="sort('branch')">Branch</th>
          <th (click)="sort('ifscCode')">IFSC</th>
          <th>Contact</th>
          <th>Email</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let bank of banks">
          <td>{{ bank.bankName }}</td>
          <td>{{ bank.branch }}</td>
          <td>{{ bank.ifscCode }}</td>
          <td>{{ bank.contactNumber }}</td>
          <td>{{ bank.emailId }}</td>
          <td>
            <span class="badge" [class.active]="bank.isActive" [class.inactive]="!bank.isActive">
              {{ bank.isActive ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td>
            <button class="btn btn-sm btn-outline-warning me-1" (click)="editBank(bank.bankId)">
              Edit
            </button>
            <button class="btn btn-sm btn-outline-danger" (click)="deleteBank(bank.bankId)">
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading" class="pagination">
    <button class="btn btn-secondary" (click)="prevPage()" [disabled]="pageNumber === 1">
      â¬… Prev
    </button>
    <span>Page {{ pageNumber }}</span>
    <button
      class="btn btn-secondary"
      (click)="nextPage()"
      [disabled]="pageNumber * pageSize >= totalCount"
    >
      Next âž¡
    </button>
    <p>Total Banks: {{ totalCount }}</p>
  </div>
</div>
